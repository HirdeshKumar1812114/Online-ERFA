import React, { useState } from "react";
import {
  CContainer,
  CButton,
  CCard,
  CCardBody,
  CCardHeader,
  CCol,
  CForm,
  CFormInput,
  CFormLabel,
  CFormSelect,
  CFormFeedback,
} from "@coreui/react";
import Alert from "@mui/material/Alert";
import RingLoader from "react-spinners/RingLoader";
import { css } from "@emotion/react";
import axios from "axios";

import { DropzoneArea } from 'material-ui-dropzone';
const override = css`
  margin: 0 auto;
`;

const [title, setTitle] = useState('');
const [applicationstart, setApplicationStart] = useState('');
const [applicationdeadline, setApplicationEnd] = useState('');
const [poster, setPoster] = useState();
const [description, setDescription] = useState('');
const [eligibility, setEligibility] = useState('');
const [tagsArray, setTagsArray] = useState('');
const [tags, setTags] = useState([])
const Layout = (props) => {

  return (
    <CContainer fluid>
      <CCard>
        <CCardHeader>
          <strong>
            <h3>Scholarship Posting</h3>
          </strong>
        </CCardHeader>
        <CCardBody>
          <CForm>
            <CCol md={12}>
              <CFormLabel htmlFor="title">Title</CFormLabel>
              <CFormInput type="text" id="title" onChange={(e) => { setTitle(e.target.value) }} value={title} />
            </CCol>

            <CCol md={6}>
              <CFormLabel htmlFor="inputDob">Applicaiton starting date</CFormLabel>
              <CFormInput
                required
                value={applicationstart}
                id="inputStartDate"
                type="date"
                onChange={(e) => {
                  setApplicationStart(e.target.value);
                }}
              />
            </CCol>


            <CCol md={6}>
              <CFormLabel htmlFor="inputDob">Applicaiton ending date</CFormLabel>
              <CFormInput
                required
                value={applicationdeadline}
                id="inputEndDate"
                type="date"
                onChange={(e) => {
                  setApplicationEnd(e.target.value);
                }}
              />
            </CCol>


            <CCol md={12}>
              <CFormLabel htmlFor="description">Description</CFormLabel>
              <CFormTextarea id="description" rows="10"
                onChange={(e) => {
                  setDescription(e.target.value);
                }}
                value={description}
              >
              </CFormTextarea>
            </CCol>


            <CCol md={12}>
              <CFormLabel htmlFor="description">Eligibility</CFormLabel>
              <CFormTextarea id="description" rows="5"
                onChange={(e) => {
                  setEligibility(e.target.value);
                }}
                value={eligibility}
              ></CFormTextarea>
            </CCol>

            <CCol md={12}>
              <CFormLabel htmlFor="inputDob">Tags</CFormLabel>
              <CFormInput
                required
                value={tags}
                id="inputStartDate"
                type="date"
                onChange={(e) => {
                  setTagsArray(e.target.value);
                  setTags(tagsArray.split(",", 2));
                }}
              />
            </CCol>

            <CCol md={12}>
              <CFormLabel htmlFor="formFile">Load Poster Image</CFormLabel>
              <DropzoneArea
                acceptedFiles={['image/*']}
                dropzoneText={"Drag and drop an image here or click"}
                onChange={(files) => {
                  console.log('Files:', files);
                  setPoster(files)
                }}
              />
            </CCol>

            <CButton type="submit" color="primary">
              Submit
            </CButton>
          </CForm>



        </CCardBody>
      </CCard>

      <prev >{JSON.stringify(title, null, 2)}</prev>
      <prev >{JSON.stringify(applicationstart, null, 2)}</prev>
      <prev >{JSON.stringify(applicationdeadline, null, 2)}</prev>
      <prev >{JSON.stringify(poster, null, 2)}</prev>
      <prev >{JSON.stringify(description, null, 2)}</prev>
      <prev >{JSON.stringify(eligibility, null, 2)}</prev>
      <prev >{JSON.stringify(tagsArray, null, 2)}</prev>
      <prev >{JSON.stringify(tags, null, 2)}</prev>

    </CContainer>
  );
};

export default Layout;
